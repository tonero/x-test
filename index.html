<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iframe Example</title>

<style>

    html, body {
      margin: 0;
      padding: 0;	    
    }

    iframe {
      width: 100vw;
      height: 100%;	    
      border: none;
      display: block;
    }	
	
 .responsive-iframe {
    position: relative;
    width: 100%;
    padding-top: 100%; /* 16:9 aspect ratio = 9/16 = 0.5625 */
 }

  .responsive-iframe iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
  }
</style>
</head>
<body>
    <h1>Welcome to My Webpage!</h1>
    <p>Here's a cool TrustX embed !</p>
	

	<div id="loader">Loading...</div>
	<!--<div class = "responsive-iframe">-->
		<iframe 
			id="myIframe"
			src="https://emeademos.oak.trustx.com/web/trustweb?pt=TQ6OWOJB7TJPIFQYSU6T4ZAYEM" 
			allow="camera; microphone; gyroscope; accelerometer"
			allowfullscreen> 
		</iframe>
	<!--</div>-->

	<script>
		
		var iframe = document.getElementById("myIframe");
		iframe.onload = function() {
		    document.getElementById("loader").style.display = "none";
		    iframe.style.display = "block";
		};

		function resizeIframeToViewport() {
		    const iframe = document.getElementById("myIframe");
		    iframe.style.height = window.innerHeight + "px";
		}

	        function updateViewportHeight() {
	         // Get the actual viewport height
	      	  let vh = window.innerHeight * 0.01;
	         // Set the CSS variable --vh to the root element
	          document.documentElement.style.setProperty('--vh', `${vh}px`);
	        }		
		
		    // Resize on load and when window size changes
		//window.addEventListener("load", resizeIframeToViewport);
		//window.addEventListener("resize", resizeIframeToViewport);
		//window.addEventListener('load', updateViewportHeight);
                //window.addEventListener('resize', updateViewportHeight);
		window.addEventListener('message', (event) => {
			if (!event.data || !event.data.event) return
			switch (event.data.event) {
				case 'webCompleted':
					if (event.message) {
						alert('Review')
					} else alert('Process ended successfully')
					break
				case 'webTimeout':
					alert('Session expired')
					break
				case 'error':
					alert('Process ended with an error')
					break
				default:
					console.log(event.data)
			}
		})
	</script>
 

</body>
</html>
