<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iframe Example</title>

<style>

    html, body {
      margin: 0;
      padding: 0;	
      overflow-y: auto;	    
    }

    iframe {
      width: 100vw;
      height: 100vh;
      height: 100lvh;	    
      border: none;
      display: block;
    }	
	
</style>
</head>
<body>
    <h1>Welcome!!</h1>
    <p>Here's a cool TrustX embed</p>
	
	<div id="loader">Loading...</div>
		<iframe 
			id="myIframe"
			scrolling="yes"
			src="https://emeademos.oak.trustx.com/web/trustweb?pt=TQ6OWOJB7TJPIFQYSU6T4ZAYEM" 
			allow="camera; microphone; gyroscope; accelerometer"
			allowfullscreen> 
		</iframe>
	<script>
		
		var iframe = document.getElementById("myIframe");
		iframe.onload = function() {
		    document.getElementById("loader").style.display = "none";
		    iframe.style.display = "block";
		};


		iframe.contentWindow.scrollTo(0, iframe.contentDocument.body.scrollHeight);

		window.addEventListener('message', (event) => {
			if (!event.data || !event.data.event) return
			switch (event.data.event) {
				case 'webCompleted':
					if (event.message) {
						alert('Review')
					} else alert('Process ended successfully')
					break
				case 'webTimeout':
					alert('Session expired')
					break
				case 'error':
					alert('Process ended with an error')
					break
				default:
					console.log(event.data)
			}
		})
	</script>
 

</body>
</html>
